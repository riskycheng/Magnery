# Magnery - 冰箱贴收藏应用

一个基于 iOS Vision 框架的冰箱贴收藏应用，灵感来自 Capwords 设计理念。

## 功能特性

### 📸 智能拍摄与分割
- 使用相机拍摄或从相册选择冰箱贴照片
- 基于 iOS Vision 框架的自动背景分割
- 智能物体识别和提取

### 🏠 主页展示
- 按地点或时间分组展示收藏
- 彩色卡片式布局
- 统计收藏数量和城市数量
- 时间问候语

### 📝 添加与编辑
- 自动获取当前位置信息
- 自定义物品名称
- 添加个人笔记
- 语音播放功能（待实现）

### 📋 列表浏览
- 支持按地点/时间切换排序
- 网格式卡片展示
- 快速浏览所有收藏

### 🔍 详情查看
- 大图展示收藏品
- 显示收藏日期和地点
- AI 科普对话功能
- 语音提问功能（待实现）

## 技术栈

- **语言**: Swift
- **框架**: SwiftUI
- **AI/ML**: Vision Framework (背景分割)
- **存储**: UserDefaults + 本地文件系统
- **定位**: CoreLocation

## 项目结构

```
Magnery/
├── Models/
│   └── MagnetItem.swift          # 数据模型
├── ViewModels/
│   └── MagnetStore.swift         # 状态管理
├── Views/
│   ├── HomeView.swift            # 主页
│   ├── CameraView.swift          # 相机拍摄
│   ├── SegmentationView.swift   # 分割结果
│   ├── AddMagnetView.swift       # 添加/编辑
│   ├── ListView.swift            # 列表浏览
│   └── DetailView.swift          # 详情页
├── Services/
│   ├── ImageManager.swift        # 图片存储管理
│   └── VisionService.swift       # Vision 框架集成
└── MagneryApp.swift              # 应用入口
```

## 使用说明

### 首次运行
1. 打开应用后，授予相机和位置权限
2. 点击中央相机按钮开始拍摄
3. 拍摄或选择冰箱贴照片
4. 等待自动背景分割完成
5. 确认后添加名称和备注
6. 保存到收藏库

### 浏览收藏
- 在主页点击任意分组卡片进入列表
- 点击右上角切换按地点/时间排序
- 点击任意收藏品查看详情
- 点击"AI 科普"按钮获取相关介绍

## 权限说明

应用需要以下权限：
- **相机访问**: 用于拍摄冰箱贴照片
- **相册访问**: 用于从相册选择照片
- **位置信息**: 用于记录收藏地点（仅在使用时）

## 待实现功能

- [ ] 语音播放物品名称
- [ ] 真实 AI 对话集成（目前为模拟数据）
- [ ] 语音提问功能
- [ ] iCloud 同步
- [ ] 分享功能
- [ ] 导出收藏集
- [ ] 搜索功能
- [ ] 标签分类

## 开发环境

- Xcode 15.0+
- iOS 17.0+
- Swift 5.9+

## 构建与运行

1. 克隆项目
2. 使用 Xcode 打开 `Magnery.xcodeproj`
3. 选择目标设备或模拟器
4. 点击运行 (⌘R)

**注意**: Vision 框架的背景分割功能需要在真机上测试效果最佳。

## 许可证

本项目仅供学习和个人使用。
